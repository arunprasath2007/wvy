@using System.Linq;
@{
    Title = "Embed Test";
    Back = Url.Action<TestController>(c => c.Index());

}

<pre class="m-0"><code class="language-css">@HtmlHelperExtensions.GetThemedCss("~/styles/widget.scss")</code></pre>


@section scripts{
    <script id="weavy-loader">
        var weavy_options = {
            url: '@WeavyContext.Current.ApplicationUrl',
            always_available: false
        };


        (function (w, d) {

            var seed = Date.now();

            var weavy;
            function l() {
                var s = d.createElement('script');
                s.src = '/javascript/widget.js?v=@Bootstrapper.Version' + seed;
                s.onload = function () {
                    weavy = new Weavy(weavy_options);

                    $(document).on("click", "[data-open-strip]", function (e) {
                        weavy.open($(this).data("open-strip"));
                    });

                    $(document).on("click", "[data-toggle-strip]", function (e) {
                        weavy.toggle($(this).data("toggle-strip"));
                    });

                    $(document).on("click", "[data-close-strip]", function (e) {
                        weavy.close();
                    });

                    $(document).on("click", "[data-resize-strip]", function (e) {
                        weavy.resize(e);
                    })

                    $(document).on("click", "[data-reload-strip]", function (e) {
                        var o = weavy.options;
                        o.id = $("#id").val();
                        o.folder = $("#folder").val();
                        weavy.reload(o);
                    })

                };

                x = d.getElementsByTagName('script')[0];
                x.parentNode.insertBefore(s, x);
            }

            if (w.attachEvent) { w.attachEvent('onload', l); } else { w.addEventListener('load', l, false); }

        })(window, document)

    </script>
}
