/// <reference path="../_core.scss" />

.navbar-theme {
    color: color-yiq($theme);
    background-color: rgba($theme, 0.8);
    background-size: cover;

    .btn-icon {
        color: color-yiq($theme);
    }

    .navbar-secondary {

        .fab {
            position: absolute;
            right: 1rem;
            top: 1.25rem;

            .btn-round {
                box-shadow: $md-shadow-2dp !important;
            }
        }
    }
}


.navbar-primary {
    z-index: 3;
    flex-wrap: nowrap;
    justify-content: flex-start;
    min-height: $navbar-height;
    background-color: rgba($theme, .8);
    box-shadow: $md-shadow-2dp;

    html.mobile & {
        background-color: $theme;
    }

    #space-home {
        display: none;

        html.strip-context & {
            display: inline-flex;
        }
    }

    #space-menu {

        html.embedded & {
            display: none;
        }

        html.strip-personal & {
            display: inline-flex;
        }
    }
}

.navbar-secondary {
    z-index: 2;
    flex-wrap: nowrap;
    min-height: $navbar-height;

    // fix for .dropdown-menu-right in navbar, see https://github.com/twbs/bootstrap/issues/23308
    .dropdown-menu-right {
        left: auto;
        right: 0;
    }
}


.navbar-content {
    flex-wrap: nowrap;
    align-items: flex-start;
}

.navbar-icons {
    display: flex;
    flex: 0 0 auto;

    .btn-icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }
    // fix for .dropdown-menu-right in navbar, see https://github.com/twbs/bootstrap/issues/23308
    .dropdown-menu-right {
        left: auto;
        right: 0;
    }
}

.navbar-middle {
    text-align: center;
    margin: 0 auto;
    @include text-truncate();

    .title {
        @include text-truncate();
        line-height: 1.3;
        margin-top: -.1875rem;
    }

    .subtitle {
        @include text-truncate();
        line-height: 1.3;
        font-size: $font-size-sm;
        margin-top: -.1875rem;
    }

    &.dropdown {
        position: static;

        .dropdown-toggle {
            background: transparent;
            border: 0;
            color: color-yiq($theme);
            padding: 0;
            flex-direction: column;
            align-items: center;

            &:active, &:focus {
                box-shadow: none;
                outline: none;
            }
        }

        .dropdown-menu {
            top: $navbar-height;
            left: calc(50vw - #{$dropdown-min-width} / 2);
            width: $dropdown-min-width;
            background-color: $theme;
            box-shadow: $md-shadow-2dp;
            border: 0;

            .dropdown-item {
                &, .i {
                    color: color-yiq($theme);
                }

                @include hover-focus {
                    color: color-yiq($theme);
                    @include gradient-bg(darken($theme, 3%));
                }
            }
        }
        // add angle down to indicate that this is a dropdown
        .title {
            padding-left: .9375rem;
            position: relative;

            &::after {
                content: "";
                border: solid color-yiq($theme);
                border-width: 0 .125rem .125rem 0;
                display: inline-block;
                padding: .1875rem;
                margin: 0 .125rem .125rem .375rem;
                transform: rotate(45deg);
            }
        }
    }

    html.strip-context & {
        // required to center the dropdown since we don't have an icon to the right
        padding-right: 2rem;
    }
}
